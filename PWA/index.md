# PWA(プログレッシブウェブアプリ)について自己理解する

## 定義

PWA は単一の技術で成り立っているわけではなく、特定の要素を満たしている場合に PWA であるとみなされます。  
PWA であるための要素 (参考 [MDN web docs](https://developer.mozilla.org/ja/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Introduction))

- 発見可能 (Discoverable): 検索エンジンで見つけることができる。
- リンク可能 (Linkable): URL を送るだけでアプリを共有できる。
- ネットワーク非依存 (Network independent): オフライン、または貧弱なネットワーク環境でも使用できる。
- 進化的 (Progressively enhanced): 古いブラウザーでも基本的な機能は使用でき、最新のブラウザーではすべての機能が使用できる。
- レスポンシブデザイン (Responsively designed): 携帯電話やタブレット、ノートパソコン、テレビ、冷蔵庫など、画面とブラウザーを備える全ての端末で使用できる。
- 安全性 (Secure): アプリからの通信が第三者からの攻撃に対して安全であり、機密情報を保護できる。
- インストール可能 (Installable): アプリを端末のホーム画面に追加できる。
- 再エンゲージ可能 (Re-engageable): 新しいコンテンツがあるときに通知を送ることができる。

## 仕組み

Service Worker

- os に作用されない
- push 通知
- 通信量が少ない, 読み込みが早い
- アプリストアからのインストールが不要
- 企業は Android/iOS のネイティブアプリを別に開発する必要が無くなる

### 使える機能

- プッシュ通知
- カメラ
- マイク入力
- オーディオ出力
- GPS
- 生体認証
- Bluetooth
- 音声認識

PWA はスマホアプリを作るほどの開発予算を割けない場合や、アプリ程の多機能が不要なケースに向いています。例えば以下の例のようなケースであれば、PWA と相性が良いでしょう。

ホーム画面に追加してもらい、ユーザーとの接触を増やしたい
Web サイトの表示速度を改善したい
オフライン機能を追加したい
ただし、現状 iPhone ユーザーの多い日本では機能が制限される可能性があるのでその点だけ注意してください。

サービス利用者のうち「Android ユーザーが多い」という分析結果が出るなら PWA 相性は良いですが、iOS ユーザーが多い場合はプッシュ通知が使えないことを理解した上で導入する必要があります。

|                      | PWA  | ネイティブ |
| -------------------- | ---- | ---------- |
| ダウンロードの必要性 | なし | あり       |
| 更新の必要性         | なし | あり       |
| ストアの審査         | なし | あり       |

![aa](./serviceworker.png)
